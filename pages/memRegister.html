<!-- <?php
    if(!isset($_SESSION)) 
    { 
      ob_start();
        session_start(); 
    }
include '../views/header.php';

?> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" content="width=1024">
  <meta name = "format-detection" content="telephone = no" /> 
  <meta charset="UTF-8">
  <title>攤吃貨</title>
  <!-- 基本css -->
  <link rel="stylesheet" type="text/css" href="../assets/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/index.css">
  <link rel="shortcut icon" href="../assets/images/favicon.ico" type="image/x-icon" />
  <!-- 會員專區 -->
  <link rel="stylesheet" type="text/css" href="../assets/css/memArea.css">
  <!-- 會員註冊 -->
  <link rel="stylesheet" type="text/css" href="../assets/css/memRegister.css">
  <!-- 會員登入 -->
  <link rel="stylesheet" type="text/css" href="../assets/css/memLogin.css">
  <!-- 影音專區入口 -->
  <link rel="stylesheet" type="text/css" href="../assets/css/videoArea.css">
  <!-- 影音頁面(貓頭鷹slider) -->
  <link rel="stylesheet" type="text/css" href="../assets/css/videoPage01.css">
  <link rel="stylesheet" href="../assets/OwlCarousel/dist/assets/owl.carousel.min.css" />

  <!-- 攤商簡介頁面shopresultitem -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-result-item.css">
  <!-- order -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-order.css">
  <!-- admin -->
  <!-- <link rel="stylesheet" type="text/css" href="../assets/css/admin.css"> -->
  <!-- <link rel="stylesheet" type="text/css" href="../assets/css/sb-admin-2.css"> -->
  <!-- <link rel="stylesheet" type="text/css" href="../assets/css/sb-admin-2.min.css"> -->
  <!-- shopreportitem -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-report-item.css">
  <!-- shopRegister -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shopRegister.css">
  <!-- shop-area -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-area.css">
  <!-- navbar -->
  <link rel="stylesheet" type="text/css" href="../assets/css/navbar.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/menu_elastic.css" />
  <!-- secret -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-report-secret.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-report-new.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-report-hot.css">
  <!-- mapsearch -->
  <link rel="stylesheet" type="text/css" href="../assets/css/map-search.css">
  <!-- index -->
  <link rel="stylesheet" type="text/css" href="../assets/css/map-3d.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-order-show.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/video-show.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/promo-show.css">
  <!-- <link rel="stylesheet" type="text/css" href="../assets/css/index.css"> -->
  <!-- <link rel="stylesheet" type="text/css" href="../assets/css/normalize.css"> -->
  <!-- searchbox -->
  <link rel="stylesheet" type="text/css" href="../assets/css/searchbox.css">
  <!-- shopresult -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-result.css">
  <!-- order -->
  <link rel="stylesheet" type="text/css" href="../assets/css/shop-order-show.css">
  <script src="../assets/js/snap.svg-min.js"></script>
  <!-- top -->
  

</head>
<body>

	<div class="memRegister">
		<div class="memRegister-container">
			<div class="memRegister-container">
				<img src="../assets/images/Searchbox-pon.png">
				<div class="memRegister-title">會員註冊</div>

				<form method="post" action="../common/memRegisterf.php">
		
					<div class="memRegister-input">
						<label for="memRegisteraccount">帳號：</label>
						<input type="text" name="memId" id="memRegisteraccount">
						<div id="memRegister-idDiv"></div>
					</div>

					<div class="memRegister-input">
						<label for="memRegisterPsw">密碼：</label>
						<input type="password" name="memPsw" id="memRegisterPsw">
						<div id="memRegister-pswDiv"></div>
					</div>

					<div class="memRegister-input">
						<label for="memRegisterPsw2">確認密碼：</label>
						<input type="password" name="memPsw2" id="memRegisterPsw2">
						<div id="memRegister-pswDiv2"></div>
					</div>

					<div class="memRegister-input">
						<label for="memRegistername">姓名：</label>
						<input type="text" name="name" id="memRegistername">
					</div>

					<div class="memRegister-input">
						<label for="memRegisterphone">電話：</label>
						<input type="text" name="phone" id="memRegisterphone">
						<div id="memRegister-phoneDiv"></div>
					</div>

					<div class="memRegister-input">
						<label for="memRegisteremail">電子信箱：</label>
						<input type="email" name="mail" id="memRegisteremail">
						<div id="memRegister-mailDiv"></div>
					</div>

					<div class="memRegister-input">
						<label for="memRegisterarea">所在地區：</label>
						<input type="text" name="memarea" id="memRegisterarea">
					</div>

					<div class="memRegister-input2">
						<input type="submit" id="memRegistersend" value="註冊">
					</div>
				</form>
			</div>
		</div>
	</div>

</body>
</html>
<script src="https://code.jquery.com/jquery-3.2.1.js"></script>
<!-- 會員專區 -->
<script type="text/javascript" src="../assets/js/memArea.js"></script>
<!-- 會員註冊 -->
<script type="text/javascript" src="../assets/js/memRegister.js"></script>
<!-- 會員登入 -->
<script type="text/javascript" src="../assets/js/memLogin.js"></script>
<!-- 影音專區入口 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>

<script type="text/javascript" src="../assets/js/videoArea.js"></script>
<!-- 影音頁面 -->
<script src="../assets/OwlCarousel/dist/owl.carousel.min.js"></script>
<script type="text/javascript" src="../assets/js/videoPage.js"></script>

<!-- admin -->
<!-- <script type="text/javascript" src="../assets/js/sb-admin-2.js"></script> -->
<!-- <script type="text/javascript" src="../assets/js/sb-admin-2.min.js"></script> -->
<!-- shopArea -->
<script src="../assets/js/shopArea.js"></script>
<!-- navbar -->
<script src="../assets/js/snap.svg-min.js"></script>
<script src="../assets/js/classie.js"></script>
<script src="../assets/js/main3.js"></script>
<!-- index -->
<!-- <script src="../assets/js/snap.svg-min.js"></script> -->
<!-- searchbox -->
<script src="../assets/js/searchbox.js"></script>
<!-- shopresult -->
<script src="../assets/js/shopresult.js"></script>
<!-- shopresultitem -->
<script src="../assets/js/shopresultitem.js"></script>
<!-- searchresult -->
<script src="../assets/js/searchresult.js"></script>
<!-- 停停 -->
<script src="../assets/js/shopCoupon.js"></script>
<script src="../assets/js/ShopAreaItemInfo.js"></script>
<script src="../assets/js/ShopAreaItem.js"></script>
<script src="../assets/js/ShopAreaInfo.js"></script>
<script src="../assets/js/shop_product.js"></script>
<script src="../assets/js/login.js"></script>
<script src="../assets/js/main3.js"></script>

<!-- top -->
<!-- <script src="../assets/js/home.js"></script> -->
<!-- map -->
<!-- <script type="text/javascript" src="//maps.googleapis.com/maps/api/js?key=AIzaSyDbCq6LI22MT-sNtnBj9GKNv7yH7Awypl0&callback=getGeolocation"></script> -->
<script src="../assets/js/MapSearch.js"></script> 
<!-- <?php 
  include '../views/footer.php';
?> -->

<script type="text/javascript">
window.onload = function() {

	//檢查會員帳號是否已存在
	document.getElementById('memRegisteraccount').onblur = function() {
		var checkId = document.getElementById('memRegisteraccount');
		var checkIdDiv = document.getElementById("memRegister-idDiv");
		if(checkId.value.length > 1){
			if(checkId.value.length < 6){
			alert("帳號不得為空值或小於6個字");
			}else{
				
				fetch('../common/memCheckId.php?memId=' + checkId.value).then(function(response){
					return response.json();
				}).then(function(json){
					// console.log(json);
					if(json === 1){
						checkIdDiv.innerHTML = "帳號已被使用";
					}
					else{
						// console.log('123');
						checkIdDiv.innerHTML = "帳號可以使用";
					}
				});
			}
		}
		
		
	};

	//檢查密碼是否有6個英數 && 確認密碼是否相符
	document.getElementById('memRegisterPsw').onblur = function() {
		var checkPsw = document.getElementById('memRegisterPsw');
		var checkPsw2 = document.getElementById('memRegisterPsw2');
		var checkPswDiv = document.getElementById("memRegister-pswDiv");
		var checkPswDiv2 = document.getElementById("memRegister-pswDiv2");
		if(checkPsw.value.length > 1){
			if(checkPsw.value.length < 6){
				checkPswDiv.innerHTML = "密碼不得小於6個數字";

			}else{
				checkPswDiv.innerHTML = "";
			}
		}
		
		
	}
	document.getElementById('memRegisterPsw2').onblur = function() {
		var checkPsw = document.getElementById('memRegisterPsw');
		var checkPsw2 = document.getElementById('memRegisterPsw2');
		var checkPswDiv2 = document.getElementById("memRegister-pswDiv2");
		if(checkPsw2.value.length > 1){
			if(checkPsw.value == checkPsw2.value){
				checkPswDiv2.innerHTML = "密碼相符讚讚";
			}else{
				checkPswDiv2.innerHTML = "密碼不相符請重新輸入";
			}
		}
		
	}



	// //檢查手機是否已被使用過
	// var checkPhone = document.getElementById('memRegisterphone');
	// checkPhone.onblur = function(){
	// 	if(checkPhone.value.length < 10){
	// 		alert("此電話不存在");
	// 	}else{
	// 		fetch('../common/memCheckPhone.php?phone=' + checkPhone.value).then(function(response){
	// 		return response.json();
	// 	}).then(function(json){
	// 		// console.log(json.count);
	// 		var checkPhoneDiv = document.getElementById('memRegister-phoneDiv');

	// 		if(json.count == 1){
	// 			checkPhoneDiv.innerHTML = "此電話已被使用";
	// 		}else{
	// 			checkPhoneDiv.innerHTML = "此電話可以使用";
	// 		}
	// 	})
	// 	}
		
	// };

	// //檢查電子信箱是否已被使用過
	// var checkMail = document.getElementById('memRegisteremail');
	// checkMail.onblur = function(){
	// 	fetch('../common/memCheckMail.php?mail=' + checkMail.value).then(function(response){
	// 		return response.json();	
	// 	}).then(function(json){
	// 		var checkMailDiv = document.getElementById('memRegister-mailDiv');
	// 		if(json.count == 1){
	// 			checkMailDiv.innerHTML = "此電子信箱已被使用";
	// 		}else{
	// 			checkMailDiv.innerHTML = "此電子信箱可以使用";
	// 		}
	// 	})
	// }



	document.getElementById('memRegistersend').onclick=function(){ 
            if( document.getElementById('memRegisteraccount').value ==="" || 
                document.getElementById('memRegisterPsw').value ==="" || 
                document.getElementById('memRegisterPsw2').value ==="" || 
                document.getElementById('memRegistername').value ==="" || 
                document.getElementById('memRegisterphone').value ==="" || 
                document.getElementById('memRegisteremail').value ==="" || 
                document.getElementById('memRegisterarea').value ==="" 
                ){
            	return false; 
            }else{
            	memRegistersend.submit();
            }
            
        }








};

</script>